{
  "middlewares": {
    "logging": {
      "module": "middlewares.logging",
      "class": "LoggingMiddleware",
      "enabled": true,
      "order": 1,
      "config": {
        "log_level": "INFO",
        "log_request": true,
        "log_response": true,
        "log_errors": true
      }
    },
    "validation": {
      "module": "middlewares.validation",
      "class": "ValidationMiddleware",
      "enabled": true,
      "order": 2,
      "config": {
        "validate_request": true,
        "validate_response": false,
        "strict_mode": false,
        "required_fields": ["service_id"],
        "max_payload_size": 1048576
      }
    },
    "authentication": {
      "module": "middlewares.authentication",
      "class": "AuthenticationMiddleware",
      "enabled": false,
      "order": 3,
      "config": {
        "auth_type": "bearer",
        "validate_token": true,
        "bypass_services": ["health-check", "status"],
        "required_headers": ["Authorization"]
      }
    },
    "rate_limiting": {
      "module": "middlewares.rate_limiting",
      "class": "RateLimitingMiddleware",
      "enabled": false,
      "order": 4,
      "config": {
        "requests_per_minute": 100,
        "burst_size": 10,
        "rate_limit_by": "client_id",
        "exclude_services": ["health-check"]
      }
    },
    "metrics": {
      "module": "middlewares.metrics",
      "class": "MetricsMiddleware",
      "enabled": true,
      "order": 5,
      "config": {
        "collect_latency": true,
        "collect_errors": true,
        "collect_throughput": true,
        "export_interval": 60,
        "percentiles": [50, 90, 95, 99]
      }
    }
  },
  "global_config": {
    "error_handling": "propagate",
    "timeout": 30000,
    "async_execution": false
  }
}